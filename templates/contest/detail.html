{% extends 'base.html' %}
{% load static %}


{% block title %}Contest Features{% endblock %}

{% block body %}


<section class="info">
    <div class="container">
        <div class="inner-more">
            <table  class="table table-hover">
                  <tbody>
                    <tr>
                        <th>Contest Name</th>
                            <td>{{ contest.contest_name }}</td>
                    </tr>
                    <tr>
                        <th>Contest Tag</th>
                            <td>{{ contest.tag }} </td>
                    </tr>
                    <tr>
                        <th>Start Date</th>
                            <td>{{  contest.start_date }}</td>
                    </tr>
                    <tr>
                        <th>End Date</th>
                            <td>{{ contest.end_date }}</td>
                    </tr>
                    <tr>
                        <th>Minimum amount of votes you need to distribute</th>
                            <td>{{  contest.min_must_votes }}
                                {% if request.user.is_authenticated %}
                                    (You've distributed {{ vote_count }})
                                {% endif %}
                            </td>
                    </tr>
                    <tr>
                        <th>Minimum average</th>
                            <td>{{  contest.min_avg }}
                                {% if request.user.is_authenticated %}
                                    (Your's is {{ vote_avg }})
                                {% endif %}
                            </td>
                    </tr>
                    <tr>
                        <th>Minimum standart deviation</th>
                            <td>{{  contest.min_stddev }}
                                {% if request.user.is_authenticated %}
                                    (Your's is {{ vote_stddev }})
                                {% endif %}
                            </td>
                    </tr>
                    <tr>
                        <th>Number of photos in photopool</th>
                            <td>{{ contest.photos.count }}</td>
                    </tr>
                    <tr>
                        <th>Maximum number of photos you can send to photopool</th>
                            <td>{{ contest.max_photos_per_Reguser }}
                                {% if request.user.is_authenticated %}
                                    (You have uploaded {{ num_of_uploaded_photos }})

                                    {% if num_of_uploaded_photos == 0 %}
                                        <a href="{% url "contest:photo_upload" slug=contest.slug %}">Join now!</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                    </tr>
                    <tr>s
                        <th>Prize distributions</th>
                            <td>{{  contest.prize_distributions }}</td>
                    </tr>
                  <!--Buraya daha çok detay eklenebilir, aşağıdaki kısımda fazla detaylar var-->
                </tbody>
            </table>
            {% if request.user.is_authenticated %}
                <form style="display: inline;" action={% url "contest:photo_upload" slug=contest.slug %}>
                    <input class="btn btn-success btn-lg" type="submit" value="Send photo to Contest" >
                </form>
            {% endif %}
            <form style="display: inline;" action={% url "contest:photopool" slug=contest.slug %}>
                    <input class="btn btn-primary btn-lg" type="submit" value="See the Photopool">
            </form>
            <form style="display: inline;" action={% url "contest:rankings" slug=contest.slug %}>
                    <input class="btn btn-danger btn-lg" type="submit" value="Rankings">
            </form>
        </div>
    </div>
</section>

<section style="margin-bottom: 50px;" class="examples">
    <div class="container">
        <div class="examples-top">
            <h3>{{ contest.contest_name }} Example Photos</h3>
        </div>
        <div class="examples-content">
            <div class="row">
                {% for example in examples %}
                    <div class="col-sm-4">
                        <div class="card" style="border-color: black;">
                            <img src="{{ example.photoItself.url }}" alt="Example Photo" style="width: 350px; height: 200px;">
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<section class="contest-detail-sec">
  <div class="inner">
    <div class="container">

      <div class="row">

        <div class="col-sm-6 img-col">
          <div class="contest-img-wrap">
            <img src="/../static/images/home-images/1.jpg">
          </div>
        </div>

         <div class="col-sm-6">
          <div class="contest-detail-content-wrap">
            <table class="table table-hover">
              <tbody>

                <tr>
                  <th>Contest Name</th>
                  <td>{{ contest.contest_name }}</td>
                </tr>

                <tr>
                  <th>Start Date</th>
                  <td class="contest-start-date">{{  contest.start_date }}</td>
                </tr>

                <tr>
                  <th>End Date</th>
                  <td class="contest-end-date">{{  contest.end_date }}</td>
                </tr>

                <tr>
                  <th>Price Distribution</th>
                  <td>
                    <ul class="prize-list">
                      <li><span>1</span> <strong>500$</strong> <span>+Hawaii Vacation</span></li>
                      <li><span>2</span> <strong>100$</strong> <span>+Bosphorus Tour</span></li>
                      <li><span>3</span> <strong>50$</strong> <span></span></li>
                      <li><span>4-20</span> <strong>10$</strong> <span></span></li>
                    </ul>
                  </td>
                </tr>

                <tr class="tr-btn-wrap">
                  <th>Details</th>
                  <td><button class="btn-txt-only">&hellip;</button></td>
                </tr>

              </tbody>
            </table>

            <div class="button-wrap">
               {% if request.user.is_authenticated %}
                  <form action={% url "contest:photo_upload" slug=contest.slug %}>
                    <input class="btn btn-fill" type="submit" value="Send Photo" >
                  </form>
                  {% endif %}
                  <form action={% url "contest:photopool" slug=contest.slug %}>
                          <input class="btn btn-fill" type="submit" value="Photopool">
                  </form>
                  <form action={% url "contest:rankings" slug=contest.slug %}>
                          <input class="btn btn-fill" type="submit" value="Rankings">
                  </form>
            </div>
            <div class="contest-tags-wrap">
              <div class="tags-wrap">
                   <a href='#'>People</a>
                   <a href='#'>Children</a>
                   <a href='#'>Nature</a>
              </div>
              <button class="btn-txt-only">&hellip;</button>
              <form class="form-report" onclick='report("{{ contest.id }}")'>
                  <input class="btn-report" type="submit" value="Report" />
              </form>
            </div>
          </div>
        </div>

      </div>

    </div>

</section>

<script>

      $(document).ready(function(){
          var val = 1;
          $(".contest-detail-content-wrap .contest-tags-wrap>.btn-txt-only").click(function(){
              if (val == 1) {
                  $(this).siblings('.form-report').show();
                  val = 0;
              }
              else {
                  val = 1;
                  $(this).siblings('.form-report').hide();
              }
              return false;
          });
       });

</script>

    <!--<section class="white">
      <div class="inner-more">
        <div class="container">
          <div class="section-title text-center">
            <h3>Upgrade to gold membership and gain some advantages.<br> {{ contest.contest_name }} contest.</h3>
          </div>
          <table class="table comp-table">
            <thead>
              <tr>
                <td class="features-title">
                  <div class="title-height-add"></div>
                  <div>
                    <h2>FEATURES</h2>
                    <h5>COMPARISON</h5>
                  </div>
                </td>
                <td class="premium-title">
                  <div class="title-height-add"></div>
                  <span class="arrow-down"></span>
                  <h2>GOLD USER</h2>
                  <h3>7$<span>per month</span></h3>
                </td>
                <td class="regular-title">
                  <div class="title-height-add"></div>
                  <span class="arrow-down"></span>
                  <h2>FREE USER</h2>
                  <h3>0$</h3>
                </td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Minimum amount of votes you need to distribute<br> in order to take part in rankings</td>
                <td>5 {% if request.user.is_authenticated %}(You've distributed {{ contender.howmany_voted }}){% endif %}</td> <!--şimdilik 5 yazdım cunku databasede olusturmadım -
                <td>{{  contest.min_must_votes }} {% if request.user.is_authenticated %}(You've distributed {{ contender.howmany_voted }}){% endif %}</td>
              </tr>
              <tr>
                <td>Maximum number of photos you can send to photopool</td>
                <td>{{  contest.max_photos_per_Preuser }}</td>
                <td>{{  contest.max_photos_per_Reguser }}</td>
              </tr>
              <tr>
                <td>Min average of given points a contender must provide</td>
                <td>{{  contest.min_total_points_given }}</td>
                <td>{{  contest.min_total_points_given }}</td>
              </tr>
              <tr>
                <td>Free photo uploading for the first photo </td>
                <td ><i class="fa fa-check" aria-hidden="true"></i></td>
                <td ><i class="fa fa-check" aria-hidden="true"></i></td>
              </tr>
              <tr>
                <td>Free photo uploading after the first photo</td>
                <td><i class="fa fa-check" aria-hidden="true"></i></td>
                <td><i class="fa fa-times" aria-hidden="true"></i></td>
              </tr>
              <tr>
                <td>Stats Whisperer <a style="font-size:10px;" href="#">What is this?</a></td>
                <td><i class="fa fa-check" aria-hidden="true"></i></td>
                <td><i class="fa fa-times" aria-hidden="true"></i></td>
              </tr>
              <tr>
                <td></td>
                <td class="last-child-td-btn premium"><a href="#" class="plan-btn">Upgrade</a></td>
                <td class="last-child-td-btn regular"><a href="#" class="plan-btn">Sign Up</a></td>
              </tr>
            <tbody>
          </table>
        </div>
      </div>
    </section>-->

{% endblock %}
